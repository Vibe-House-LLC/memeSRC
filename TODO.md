# TODO â€“ Desktop processing episode suffixes

- Desktop file browser (`src/sections/@dashboard/@components/FileBrowser.tsx`): treat episode directories as opaque strings instead of integers when scanning S3 and building `EpisodeSelection`. Update the `availableSeasons` map, `createEpisodeKey`, selection chips, and sort order so IDs such as `03a`/`03ab` survive end-to-end while purely numeric folders still behave the same.
- Episode-driven frame counts (`src/utils/calculateFrameCountFromSubfolders.ts`): update `getEpisodeFrameCountsFromPath`, `getSeriesEpisodeFrameCounts`, and the hybrid merge logic to build keys like `S{season}E{episodeId}` with the raw folder name (no `parseInt`), so pending vs. current episodes continue to match even when the ID includes a suffix.
- Admin approval flow (`src/sections/@dashboard/admin/uploads/review-upload.tsx`): send `{ season: number; episode: string }[]` to `/sourceMedia/approve` and keep the suffix in every UI string/snackbar so reviewers know they are approving `E01a` vs `E01b`.
- Lambda that promotes pending uploads (`amplify/backend/function/memesrcUpdateMedia/src/index.js`): remove the `/^\d+$/` filters and `parseInt` sorts inside `getEpisodesFromDocs`, `updateSeasonDocsFromEpisodes`, `regenerateRootDocsFromSeasons`, etc., and replace them with a helper that sorts by numeric prefix + optional suffix so `_docs.csv` regeneration, season rollups, and email/log output retain IDs like `03a`.
- Metadata fetch (`getEpisodeFromTvdb` callers inside the same lambda): strip only the numeric portion when you hit the TVDB API, but continue passing the original string downstream so `S03E01a` still finds the core episode metadata without losing the suffix inside our storage paths.
- Shared typing/contracts: change every TypeScript/GraphQL surface that still declares `episode` as a `number` (e.g., `EpisodeSelection`, Amplify REST input types, resume state) to `string`, so neither the React app nor the lambdas silently coerce `E01a` back to `E1`.
